<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exam Simplifier - আপনার পড়াশোনাকে সহজ করে তুলুন</title>
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Hind Siliguri', sans-serif;
        }

        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            padding: 20px 0;
            background: linear-gradient(135deg, #4b6cb7 0%, #182848 100%);
            color: white;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .features {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            margin-bottom: 30px;
        }

        .feature-box {
            flex: 0 0 32%;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
            text-align: center;
            margin-bottom: 20px;
        }

        .feature-box i {
            font-size: 2.5rem;
            color: #4b6cb7;
            margin-bottom: 15px;
        }

        .feature-box h3 {
            font-size: 1.3rem;
            margin-bottom: 10px;
            color: #182848;
        }

        .upload-section {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
            text-align: center;
        }

        .upload-area {
            border: 2px dashed #4b6cb7;
            border-radius: 8px;
            padding: 40px 20px;
            margin: 20px 0;
            cursor: pointer;
            transition: all 0.3s;
        }

        .upload-area:hover {
            background-color: #f0f4ff;
        }

        .upload-area i {
            font-size: 3rem;
            color: #4b6cb7;
            margin-bottom: 15px;
        }

        .upload-area p {
            margin-bottom: 15px;
        }

        #file-input {
            display: none;
        }

        .btn {
            background: linear-gradient(135deg, #4b6cb7 0%, #182848 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-block;
            margin: 10px 5px;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: #182848;
        }

        .result-section {
            display: none;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }

        .result-section h2 {
            text-align: center;
            margin-bottom: 20px;
            color: #182848;
        }

        .extracted-text {
            background: #f5f7fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            max-height: 200px;
            overflow-y: auto;
        }

        .quiz-container {
            margin-top: 20px;
        }

        .question {
            background: #f5f7fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 15px;
        }

        @media (max-width: 768px) {
            .options {
                grid-template-columns: 1fr;
            }
        }

        .option {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #ddd;
            cursor: pointer;
            transition: all 0.2s;
        }

        .option:hover {
            background: #e6eeff;
        }

        .option.correct {
            background: #d4edda;
            border-color: #c3e6cb;
        }

        .option.incorrect {
            background: #f8d7da;
            border-color: #f5c6cb;
        }

        .download-options {
            display: flex;
            justify-content: center;
            margin-top: 20px;
        }

        footer {
            text-align: center;
            padding: 20px;
            color: #6c757d;
            font-size: 0.9rem;
        }

        .loading {
            display: none;
            text-align: center;
            margin: 20px 0;
        }

        .loading-spinner {
            border: 5px solid #f3f3f3;
            border-top: 5px solid #4b6cb7;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @media (max-width: 768px) {
            .feature-box {
                flex: 0 0 100%;
            }
            
            header h1 {
                font-size: 2rem;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Exam Simplifier</h1>
            <p>আপনার পড়াশোনাকে সহজ করে তুলুন AI এর সাহায্যে</p>
        </header>

        <div class="features">
            <div class="feature-box">
                <i class="fas fa-upload"></i>
                <h3>ছবি আপলোড করুন</h3>
                <p>বাংলা বইয়ের পাতা বা হাতে লেখা নোট আপলোড করুন</p>
            </div>
            <div class="feature-box">
                <i class="fas fa-text-height"></i>
                <h3>টেক্সট এক্সট্র্যাক্ট করুন</h3>
                <p>AI এর সাহায্যে ছবি থেকে বাংলা টেক্সট বের করুন</p>
            </div>
            <div class="feature-box">
                <i class="fas fa-question-circle"></i>
                <h3>MCQ জেনারেট করুন</h3>
                <p>স্বয়ংক্রিয়ভাবে তৈরি করুন বহু নির্বাচনী প্রশ্ন</p>
            </div>
        </div>

        <div class="upload-section">
            <h2>আপনার ছবি আপলোড করুন</h2>
            <p>আমরা PNG, JPG, JPEG এবং PDF (ইমেজ হিসেবে) ফাইল সাপোর্ট করি</p>
            
            <div class="upload-area" id="upload-area">
                <i class="fas fa-cloud-upload-alt"></i>
                <p>এখানে ক্লিক করে ছবি আপলোড করুন বা ফাইলটি ড্র্যাগ এন্ড ড্রপ করুন</p>
                <p class="file-name" id="file-name">কোন ফাইল নির্বাচন করা হয়নি</p>
            </div>
            
            <input type="file" id="file-input" accept="image/*">
            
            <button class="btn" id="generate-btn">MCQ জেনারেট করুন</button>
        </div>

        <div class="loading" id="loading">
            <div class="loading-spinner"></div>
            <p>আপনার রিকোয়েস্ট প্রসেস করা হচ্ছে, অনুগ্রহ করে অপেক্ষা করুন...</p>
        </div>

        <div class="result-section" id="result-section">
            <h2>এক্সট্র্যাক্ট করা টেক্সট</h2>
            <div class="extracted-text" id="extracted-text">
                এক্সট্র্যাক্ট করা টেক্সট এখানে দেখানো হবে...
            </div>
            
            <h2>জেনারেট করা MCQ প্রশ্ন</h2>
            <div class="quiz-container" id="quiz-container">
                <!-- MCQ questions will be inserted here -->
            </div>
            
            <div class="download-options">
                <button class="btn btn-secondary" id="copy-questions">প্রশ্নগুলি কপি করুন</button>
                <button class="btn btn-secondary" id="download-questions">প্রশ্নগুলি ডাউনলোড করুন</button>
            </div>
        </div>
    </div>

    <footer>
        <p>© 2023 Exam Simplifier - AI পাওয়ার্ড এডুকেশনাল টুল</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const fileInput = document.getElementById('file-input');
            const uploadArea = document.getElementById('upload-area');
            const fileName = document.getElementById('file-name');
            const generateBtn = document.getElementById('generate-btn');
            const loading = document.getElementById('loading');
            const resultSection = document.getElementById('result-section');
            const extractedText = document.getElementById('extracted-text');
            const quizContainer = document.getElementById('quiz-container');
            const copyQuestionsBtn = document.getElementById('copy-questions');
            const downloadQuestionsBtn = document.getElementById('download-questions');
            
            let extractedTextContent = "";
            let mcqQuestions = [];
            
            // Upload area click handler
            uploadArea.addEventListener('click', function() {
                fileInput.click();
            });
            
            // Drag and drop functionality
            uploadArea.addEventListener('dragover', function(e) {
                e.preventDefault();
                uploadArea.style.backgroundColor = '#f0f4ff';
            });
            
            uploadArea.addEventListener('dragleave', function() {
                uploadArea.style.backgroundColor = '';
            });
            
            uploadArea.addEventListener('drop', function(e) {
                e.preventDefault();
                uploadArea.style.backgroundColor = '';
                
                if (e.dataTransfer.files.length) {
                    fileInput.files = e.dataTransfer.files;
                    updateFileName();
                }
            });
            
            // File input change handler
            fileInput.addEventListener('change', updateFileName);
            
            function updateFileName() {
                if (fileInput.files.length) {
                    fileName.textContent = fileInput.files[0].name;
                } else {
                    fileName.textContent = "কোন ফাইল নির্বাচন করা হয়নি";
                }
            }
            
            // Generate button click handler
            generateBtn.addEventListener('click', function() {
                if (!fileInput.files.length) {
                    alert('অনুগ্রহ করে একটি ছবি আপলোড করুন');
                    return;
                }
                
                loading.style.display = 'block';
                resultSection.style.display = 'none';
                
                // Simulate API calls for demonstration
                // In a real implementation, you would call the Gemini API here
                AIzaSyC1TLMOvMPXqfqSVHqjmFXVJSF72V9MMH8();
            });
            
            function simulateTextExtraction() {
                // This is a simulation - in reality, you would call the Gemini API
               AIzaSyC1TLMOvMPXqfqSVHqjmFXVJSF72V9MMH8(() => {
                    extractedTextContent = "বাংলাদেশ দক্ষিণ এশিয়ার একটি জনবহুল দেশ। এটি ১৯৭১ সালে পাকিস্তান থেকে স্বাধীনতা লাভ করে। বাংলাদেশের রাজধানীর নাম ঢাকা। বাংলাদেশের অর্থনীতি কৃষি, তৈরি পোশাক শিল্প এবং remittance এর উপর অনেকটা নির্ভরশীল। বাংলাদেশের জাতীয় ফুল হল শাপলা, জাতীয় পাখি দোয়েল, এবং জাতীয়动物 বাঘ।";
                    
                    extractedText.textContent = extractedTextContent;
                    simulateMCQGeneration();
                }, 2000);
            }
            
            function simulateMCQGeneration() {
                // This is a simulation - in reality, you would call the Gemini API
                AIzaSyC1TLMOvMPXqfqSVHqjmFXVJSF72V9MMH8(() => {
                    mcqQuestions = [
                        {
                            question: "বাংলাদেশ কোন বছরে স্বাধীনতা লাভ করে?",
                            options: ["১৯৬৫", "১৯৭১", "১৯৫২", "১৯৮১"],
                            correct: 1
                        },
                        {
                            question: "বাংলাদেশের রাজধানীর নাম কি?",
                            options: ["চittাগong", "রাজশাহী", "খুলনা", "ঢাকা"],
                            correct: 3
                        },
                        {
                            question: "বাংলাদেশের জাতীয় ফুল কি?",
                            options: ["গোলাপ", "শাপলা", "কমল", "বেলি"],
                            correct: 1
                        },
                        {
                            question: "বাংলাদেশের জাতীয় পাখির নাম কি?",
                            options: ["চিল", "কাক", "দোয়েল", "ময়ূর"],
                            correct: 2
                        },
                        {
                            question: "বাংলাদেশের অর্থনীতি প্রধানত কি উপর নির্ভরশীল?",
                            options: ["তৈল", "প্রযুক্তি", "কৃষি ও তৈরি পোশাক", "খনিজ"],
                            correct: 2
                        }
                    ];
                    
                    displayMCQQuestions();
                    
                    loading.style.display = 'none';
                    resultSection.style.display = 'block';
                }, 2000);
            }
            
            function displayMCQQuestions() {
                quizContainer.innerHTML = '';
                
                mcqQuestions.forEach((q, index) => {
                    const questionEl = document.createElement('div');
                    questionEl.className = 'question';
                    
                    questionEl.innerHTML = `
                        <h3>${index + 1}. ${q.question}</h3>
                        <div class="options">
                            ${q.options.map((option, optIndex) => 
                                `<div class="option" data-index="${optIndex}" data-question="${index}">${option}</div>`
                            ).join('')}
                        </div>
                    `;
                    
                    quizContainer.appendChild(questionEl);
                });
                
                // Add event listeners to options
                document.querySelectorAll('.option').forEach(option => {
                    option.addEventListener('click', function() {
                        const questionIndex = parseInt(this.getAttribute('data-question'));
                        const selectedIndex = parseInt(this.getAttribute('data-index'));
                        const correctIndex = mcqQuestions[questionIndex].correct;
                        
                        // Remove any existing classes
                        this.parentElement.querySelectorAll('.option').forEach(opt => {
                            opt.classList.remove('correct', 'incorrect');
                        });
                        
                        // Check if correct
                        if (selectedIndex === correctIndex) {
                            this.classList.add('correct');
                        } else {
                            this.classList.add('incorrect');
                            // Also highlight the correct answer
                            this.parentElement.querySelector(`.option[data-index="${correctIndex}"]`).classList.add('correct');
                        }
                    });
                });
            }
            
            // Copy questions button
            copyQuestionsBtn.addEventListener('click', function() {
                const questionsText = mcqQuestions.map((q, index) => {
                    return `${index + 1}. ${q.question}\n${q.options.map((opt, i) => `   ${String.fromCharCode(65 + i)}. ${opt}`).join('\n')}\nসঠিক উত্তর: ${String.fromCharCode(65 + q.correct)}\n`;
                }).join('\n');
                
                navigator.clipboard.writeText(questionsText)
                    .then(() => {
                        alert('প্রশ্নগুলি কপি করা হয়েছে!');
                    })
                    .catch(err => {
                        console.error('কপি করতে সমস্যা হয়েছে: ', err);
                    });
            });
            
            // Download questions button
            downloadQuestionsBtn.addEventListener('click', function() {
                const questionsText = mcqQuestions.map((q, index) => {
                    return `${index + 1}. ${q.question}\n${q.options.map((opt, i) => `   ${String.fromCharCode(65 + i)}. ${opt}`).join('\n')}\nসঠিক উত্তর: ${String.fromCharCode(65 + q.correct)}\n`;
                }).join('\n');
                
                const blob = new Blob([questionsText], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                
                const a = document.createElement('a');
                a.href = url;
                a.download = 'exam_simplifier_questions.txt';
                document.body.appendChild(a);
                a.click();
                
                // Clean up
                setTimeout(() => {
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                }, 100);
            });
        });
    </script>
</body>
</html>
